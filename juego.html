<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Osa Juego de Aviones 2 – Versión Totalmente Mejorada</title>
  <link rel="stylesheet" href="juego.css">
</head>
<body>
  <!-- Menú principal -->
  <div id="menu" class="screen">
    <h1>Selecciona Nivel</h1>
    <button onclick="showNarrative(1)">Nivel 1</button>
    <button onclick="showNarrative(2)">Nivel 2</button>
    <button onclick="showNarrative(3)">Nivel 3</button>
    <button onclick="showInstructions()">Instrucciones</button>
  </div>
  
  <!-- Pantalla narrativa -->
  <div id="narrativeScreen" class="screen" style="display:none;">
    <h1 id="narrativeTitle"></h1>
    <p id="narrativeText"></p>
    <button onclick="startGame()">Comenzar</button>
  </div>
  
  <!-- Pantalla de instrucciones -->
  <div id="instructionScreen" class="screen" style="display:none;">
    <h1>Instrucciones</h1>
    <p>Mueve el avión con las teclas o con los controles táctiles. Presiona la barra para disparar y la tecla "B" (o el botón de bomba) para activar la bomba cuando esté disponible. Recoge power‑ups para mejorar tus habilidades y derrota a los jefes para avanzar.</p>
    <button onclick="returnToMenu()">Volver</button>
  </div>
  
  <!-- Pantalla de mejoras -->
  <div id="upgradeScreen" class="screen" style="display:none;">
    <h1>Elige una Mejora</h1>
    <div id="upgradeOptions">
      <div class="upgradeOption" onclick="applyUpgrade('speed')">Aumentar Velocidad</div>
      <div class="upgradeOption" onclick="applyUpgrade('fire')">Mejorar Fuego</div>
      <div class="upgradeOption" onclick="applyUpgrade('shield')">Ampliar Escudo</div>
      <div class="upgradeOption" onclick="applyUpgrade('life')">+1 Vida</div>
      <div class="upgradeOption" onclick="applyUpgrade('slow')">Slow Motion</div>
    </div>
    <button onclick="continueGame()">Continuar</button>
    <button onclick="shareScore()">Compartir en Twitter</button>
  </div>
  
  <!-- Pantalla de nivel completado -->
  <div id="levelComplete" class="screen" style="display:none;">
    <h1>¡Nivel Completado!</h1>
    <button onclick="showUpgradeScreen()">Mejorar</button>
  </div>
  
  <!-- Contenedor del juego -->
  <div id="gameContainer">
    <div id="scoreBoard">
      <h2>Estado</h2>
      <div id="stats">
        Score: 0<br>
        Vidas: 3<br>
        Combo: x1<br>
        Poderes: Ninguno<br>
        Boss: Ninguno<br>
        Mejor Score: <span id="highscore">0</span>
      </div>
      <button id="pauseBtn">Pausar</button>
    </div>
    <div id="canvasContainer">
      <canvas id="gameCanvas" width="600" height="700"></canvas>
    </div>
  </div>
  
  <!-- Controles móviles (aparecen si se detecta dispositivo táctil) -->
  <div id="mobileControls">
    <button id="btnLeft">◄</button>
    <button id="btnUp">▲</button>
    <button id="btnDown">▼</button>
    <button id="btnRight">►</button>
    <button id="btnFire">Disparo</button>
    <button id="btnBomb">Bomba</button>
  </div>
  
  <script src="juego.js"></script>
  
</body>
</html>
